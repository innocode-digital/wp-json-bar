!function(t){"use strict";var i;!function(){if(!window.DOMParser)return!1;var n=new DOMParser;try{n.parseFromString("x","text/html")}catch(n){return!1}return!0}()||(i={href:"",xhr:null,nonce:t.nonce,timeout:null,adminBar:null,init:function(n){return i.initHref(),i.adminBar=n,i},initHref:function(){return i.href=window.location.href.split("#")[0],i},tick:function(){return i.timeout=setTimeout(i.onTick,1e3*t.interval),i},onTick:function(){var n=i.href;if(i.initHref(),i.href!==n){i.adminBar.innerHTML="",i.adminBar.className+=" innocode-json-bar_is-loading";var e=i.href.split("?"),r=e[0],n=e[1]||"",e="";return t.permalink_structure?(e+=r.replace(/\/$/,"")+"/"+t.endpoint+"/",n&&(e+="?"+n)):(e+="?"+t.endpoint,n&&(e+="&"+n)),null!==i.xhr&&i.xhr.abort(),i.xhr=new XMLHttpRequest,i.xhr.withCredentials=!0,i.xhr.open("GET",e),i.xhr.setRequestHeader("Accept","application/json"),i.xhr.setRequestHeader("Content-Type","application/json"),i.xhr.setRequestHeader("X-WP-Nonce",i.nonce),i.xhr.onload=function(){200===i.xhr.status&&(i.nonce=i.xhr.getResponseHeader("X-WP-Nonce"),i.render())},i.xhr.onloadend=function(){i.xhr=null,i.tick()},i.xhr.send(),i}i.tick()},render(){var n;try{void 0!==(n=JSON.parse(i.xhr.response)).html&&i.replaceAdminBar(i.stringToHTML(n.html))}catch(n){}return i},replaceAdminBar(n){var e=i.adminBar.parentNode;return e.insertBefore(n,i.adminBar),e.removeChild(i.adminBar),i.adminBar=n,window.innocodeJSONBarInit&&window.innocodeJSONBarInit(),i},stringToHTML(n){return(new DOMParser).parseFromString(n,"text/html").getElementById("wpadminbar")}},document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("wpadminbar");n&&"querySelectorAll"in n&&i.init(n).tick()}))}(window.innocodeJSONBar||{});
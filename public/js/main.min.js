!function(r){"use strict";var t;!function(){if(!window.DOMParser)return!1;var n=new DOMParser;try{n.parseFromString("x","text/html")}catch(n){return!1}return!0}()||(t={href:"",xhr:null,nonce:r.nonce,timeout:null,adminBar:null,init:function(n){return t.initHref(),t.adminBar=n,t},initHref:function(){return t.href=window.location.href.split("#")[0],t},tick:function(){return t.timeout=setTimeout(t.onTick,1e3*r.interval),t},onTick:function(){var n=t.href;if(t.initHref(),t.href!==n){t.adminBar.innerHTML="",t.adminBar.className+=" innocode-json-bar_is-loading";var e=t.href.split("?"),n=e[0]+"?"+r.query_var+"=true";return e[1]&&(n+="&"+e[1]),null!==t.xhr&&t.xhr.abort(),t.xhr=new XMLHttpRequest,t.xhr.withCredentials=!0,t.xhr.open("GET",n),t.xhr.setRequestHeader("Accept","application/json"),t.xhr.setRequestHeader("Content-Type","application/json"),t.xhr.setRequestHeader("X-WP-Nonce",t.nonce),t.xhr.onload=function(){200===t.xhr.status&&(t.nonce=t.xhr.getResponseHeader("X-WP-Nonce"),t.render())},t.xhr.onloadend=function(){t.xhr=null,t.tick()},t.xhr.send(),t}t.tick()},render(){var n;try{void 0!==(n=JSON.parse(t.xhr.response)).html&&t.replaceAdminBar(t.stringToHTML(n.html))}catch(n){}return t},replaceAdminBar(n){var e=t.adminBar.parentNode;return e.insertBefore(n,t.adminBar),e.removeChild(t.adminBar),t.adminBar=n,window.innocodeJSONBarInit&&window.innocodeJSONBarInit(),t},stringToHTML(n){return(new DOMParser).parseFromString(n,"text/html").getElementById("wpadminbar")}},document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("wpadminbar");n&&"querySelectorAll"in n&&t.init(n).tick()}))}(window.innocodeJSONBar||{});